// lib/scripts.ts
/**
 * Female-tone scripts for phone calls & LINE broadcast templates.
 * ‡∏Ñ‡∏≥‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏Ñ‡∏∞/‡∏Ñ‡πà‡∏∞ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
 */
const SIGNUP_URL = process.env.SIGNUP_URL || "https://www.mechoke.com/";
const LINE_ISSUE_URL = process.env.LINE_ISSUE_URL || "https://lin.ee/t52Y9Nm";
const TELEGRAM_URL = process.env.TELEGRAM_URL || "https://t.me/+BR_qCVWcre40NTc9";

export type CallScript = { title: string; open: string[]; body: string[]; close: string[] };
export type BroadcastTpl = { key: string; title: string; lines: string[]; cta?: { label: string; url: string } };

// 1) ‡πÇ‡∏ó‡∏£‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‚Äì ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ù‡∏≤‡∏Å
export const CALL_FIRST_CONTACT: CallScript = {
  title: "‡πÇ‡∏ó‡∏£‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‚Äì ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ù‡∏≤‡∏Å",
  open: [
    "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏Ñ‡∏∏‡∏ì{name} ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞ ‡∏ô‡∏µ‡πà{agent} ‡πÇ‡∏ó‡∏£‡∏à‡∏≤‡∏Å {brand} ‡∏Ñ‡πà‡∏∞ üôã‚Äç‚ôÄÔ∏è",
    "‡∏Ç‡∏≠‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏û‡∏≠‡∏à‡∏∞‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏Ñ‡∏∏‡∏¢‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞",
  ],
  body: [
    "‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì{name} ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ù‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πà‡∏∞",
    "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÇ‡∏õ‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡∏ù‡∏≤‡∏Å 300 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 7 ‡∏ß‡∏±‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°‡∏ü‡∏£‡∏µ 1 ‡∏ä‡∏¥‡πâ‡∏ô‡∏Ñ‡πà‡∏∞ üéÅ",
    `‡∏ñ‡πâ‡∏≤‡∏™‡∏ô‡πÉ‡∏à ‡∏´‡∏ô‡∏π‡∏™‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞: ${SIGNUP_URL}`,
  ],
  close: [
    "‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏´‡∏ô‡∏π‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏´‡πâ‡∏ó‡∏≤‡∏á LINE ‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞",
    `‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà ${LINE_ISSUE_URL} ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡πá‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏ó‡∏µ‡πà ${TELEGRAM_URL} ‡∏Ñ‡πà‡∏∞`,
  ],
};

// 2) ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏•‡∏±‡∏á‡πÄ‡∏• / ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
export const CALL_HESITATE: CallScript = {
  title: "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏•‡∏±‡∏á‡πÄ‡∏• / ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ",
  open: ["‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ ‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞ üòä"],
  body: [
    "‡∏Ç‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞",
    "‡πÇ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å: ‡∏ù‡∏≤‡∏Å 300 ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 7 ‡∏ß‡∏±‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°‡∏ü‡∏£‡∏µ 1 ‡∏ä‡∏¥‡πâ‡∏ô‡∏Ñ‡πà‡∏∞",
    `‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Å‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà ${SIGNUP_URL} ‡∏Ñ‡πà‡∏∞`,
  ],
  close: [
    `‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡∏Å‡∏´‡∏≤‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà ${LINE_ISSUE_URL} ‡∏ô‡∏∞‡∏Ñ‡∏∞`,
    "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡πà‡∏∞ ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÇ‡∏ä‡∏Ñ‡∏ô‡∏∞‡∏Ñ‡∏∞ üçÄ",
  ],
};

// 3) ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Å‡πà‡∏≤ ‚Äì ‡πÇ‡∏õ‡∏£‡∏ä‡∏ß‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
export const CALL_RETURNING: CallScript = {
  title: "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Å‡πà‡∏≤ ‚Äì ‡πÇ‡∏õ‡∏£‡∏ä‡∏ß‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤",
  open: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏Ñ‡∏∏‡∏ì{name} ‡∏´‡∏ô‡∏π{agent} ‡∏à‡∏≤‡∏Å {brand} ‡∏Ñ‡πà‡∏∞ üôã‚Äç‚ôÄÔ∏è"],
  body: [
    "‡∏°‡∏µ‡πÇ‡∏õ‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô 7 ‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡∏ù‡∏≤‡∏Å‡∏™‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏Å‡πà‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏∞",
    "‡πÄ‡∏•‡πà‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 500 ‡∏ö‡∏≤‡∏ó‡∏ô‡∏∞‡∏Ñ‡∏∞ ‚ú®",
  ],
  close: [
    `‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏´‡∏ô‡∏π‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏≤‡∏á LINE ‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏∞ / ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ${SIGNUP_URL}`,
  ],
};

// -------- LINE Broadcast Templates --------
export const BC_CHECKIN_7D: BroadcastTpl = {
  key: "bc_checkin_7d",
  title: "‡πÇ‡∏õ‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô 7 ‡∏ß‡∏±‡∏ô üéØ",
  lines: [
    "‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡∏Ñ‡∏£‡∏ö 7 ‡∏ß‡∏±‡∏ô ‡∏ù‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 300 ‡∏ö‡∏≤‡∏ó",
    "‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°‡∏ü‡∏£‡∏µ 1 ‡∏ä‡∏¥‡πâ‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ üéÅ",
    `‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢: ${SIGNUP_URL}`,
  ],
  cta: { label: "‡∏Å‡∏î‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£", url: SIGNUP_URL },
};

export const BC_WELCOME_NEW: BroadcastTpl = {
  key: "bc_welcome_new",
  title: "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà ‚ú®",
  lines: [
    "‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏Ñ‡πà‡∏∞",
    `‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà: ${SIGNUP_URL}`,
    `‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ${LINE_ISSUE_URL} ‚Ä¢ ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ú‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•: ${TELEGRAM_URL}`,
  ],
  cta: { label: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô", url: SIGNUP_URL },
};

export const BC_CREDIT_HELP: BroadcastTpl = {
  key: "bc_credit_help",
  title: "‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ ‡πÅ‡∏Å‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ‡∏Ñ‡∏∞? üõ†Ô∏è",
  lines: [
    "‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‡∏Ñ‡∏∞:",
    "1) ‡∏¢‡∏π‡∏™‡πÄ‡∏ã‡∏≠‡∏£‡πå/‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏™‡∏°‡∏±‡∏Ñ‡∏£  2) ‡πÄ‡∏ß‡∏•‡∏≤/‡∏¢‡∏≠‡∏î‡∏ù‡∏≤‡∏Å  3) ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£/‡∏™‡∏•‡∏¥‡∏õ‡∏¢‡πà‡∏≠",
    `‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ${LINE_ISSUE_URL}`,
  ],
  cta: { label: "‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (LINE)", url: LINE_ISSUE_URL },
};

export const CALL_SCRIPTS = { CALL_FIRST_CONTACT, CALL_HESITATE, CALL_RETURNING };
export const BROADCAST_TEMPLATES = { BC_CHECKIN_7D, BC_WELCOME_NEW, BC_CREDIT_HELP };

export function renderBroadcast(tpl: BroadcastTpl): string {
  const body = [tpl.title, ...tpl.lines].join("\n");
  return tpl.cta ? `${body}\n\n${tpl.cta.label}: ${tpl.cta.url}` : body;
}